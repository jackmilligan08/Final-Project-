import turtle
from turtle import * 
import random
import pygame
import time 


def play_audio():
    pygame.init()
    file="sound1.wav"
    pygame.mixer.music.load(file)
    pygame.mixer.music.play(1) 

nochars = ()


def writescoreboard():
    scoreboard.clear() 
    p1text = playernames[0]
    p2text = playernames[1]
    score = p1text + "    " + p2text
    score2 = "P1" + "    " + "P2"
    if not playernames:
        print("list is empty") 
        scoreboard.write(score2, font=("Times New Roman",40, "bold"), align = "center")
    else:
        scoreboard.write(score, font=("Times New Roman",40, "bold"), align = "center")
  

def player_names():
    p1name = screen.textinput("Player 1", "Player 1's name?")
    playernames.append(p1name)
    p2name = screen.textinput("Player 2", "Player 2's name")
    playernames.append(p2name) 
    
##file = "sound1.wav"
##
##print("playing sound 1")
##os.system("afplay" + file) 
def background():
    player_names()
    
def movement():
    turtle.onkey(p1right, "d")
    turtle.onkey(p1left, "a")
    turtle.onkey(p2right, "Right")
    turtle.onkey(p2left, "Left")

    p1borders()
    p2borders() 

def p1right():
    p1xcor = player1.xcor()
    player1.setx(p1xcor+playerxVelright)
    #todo - possibly optimize by only setting shape if it changed direction 5/15
    player1.shape("player1right.gif")

def p1left():
    p1xcor = player1.xcor()
    player1.setx(p1xcor+playerxVelleft)
    player1.shape("player1left.gif")

def p2right():
    p2xcor = player2.xcor()
    player2.setx(p2xcor+playerxVelright)
    player2.shape("player2right.gif")

def p2left():
    p2xcor = player2.xcor()
    player2.setx(p2xcor+playerxVelleft)
    player2.shape("player2left.gif")


def p1borders():
    p1xcor = player1.xcor()
    if p1xcor>RIGHT_EDGE:
        player1.setx(-1*p1xcor+25)
    if p1xcor<LEFT_EDGE:
        player1.setx(-1*p1xcor-25)

def p2borders():
    p2xcor = player2.xcor()
    if p2xcor>RIGHT_EDGE:
        player2.setx(-1*p2xcor+25)
    if p2xcor<LEFT_EDGE:
        player2.setx(-1*p2xcor-25)
    return

def p1collisions():
    return

def p2collisions():
    return


#lists
playernames = [] 

#Global


#Constants
playerxVelright = 20
playerxVelleft = -20

RIGHT_EDGE=440
LEFT_EDGE=-440

#Screen Setup (Version1) 
screen=turtle.Screen()
screen.setup(850,515)
screen.title("Bombs Away")
screen.bgcolor("skyblue")
screen.tracer(0) 
screen.bgpic(picname="bg3.gif")


#Adding Turtles
#adding player1 (aircraft carrier) 
player1=Turtle()

player1.penup() 
turtle.addshape(name="player1right.gif", shape=None)
player1.shape("player1right.gif")
player1.setx(-150)
player1.sety(-175) 

#adding player2 (#destroyer)
player2=Turtle()

player2.penup() 
turtle.addshape(name="player2left.gif", shape=None)
player2.shape("player2left.gif")
player2.setx(150)
player2.sety(-172) 


#Adding shapes 
turtle.addshape(name="player1right.gif", shape=None)
turtle.addshape(name="player1left.gif", shape=None)
turtle.addshape(name="player2right.gif", shape=None)
turtle.addshape(name="player2left.gif", shape=None)

#creating scoreboard
scoreboard=turtle.Turtle()
scoreboard.penup()
scoreboard.goto(0,200) 
scoreboard.hideturtle()
scoreboard.color("Black") 


#Functions not used in while true loop
background()
writescoreboard() 

play_audio()


while(True):
    screen.update()
    turtle.listen()
    movement()
    

